{% extends 'listings_base.html' %}
{% load thumbnail %}

{% block content %}
  <script type="text/javascript" src="//api.filepicker.io/v1/filepicker.js"></script>
  <script>
      filepicker.setKey('ATM8Oz2TyCtiJiHu6pP6Qz');
  </script>

<div class="listing-dash">
  <div class="dash-title">
    <div class="btn-group" data-toggle="buttons-radio">
      <button type="button" class="btn btn-primary" onclick="Edit()">Edit</button>
      <button type="button" class="btn btn-primary active" onclick="Preview()">Preview</button>
    </div>
  </div>  
  <div class="dash-content">
    <p>Choose whether to edit or </br>
    preview your content by </br>
    toggling the buttons above</p>
  </div>
</div>

<div class="listing">
  <div class="row">
    <div class="l-body">
      <h1 class="l-title" style="text-align:left;float:left;">{{listing.title}}</h1>
      <h1 class="l-dash" style="text-align:left;float:left;margin-left:11px;"> - </h1>
      <h1 class="l-price" style="text-align:left;float:left;"> <span>&nbsp;</span>${{listing.price}}</h1>
      <h1 class = "l-location"> ({{listing.location}}) </h1><!--This has to from the address function-->
    </div>
  </div>

  <div class="container span8">
          <!--  Carousel - consult the Twitter Bootstrap docs at 
          http://twitter.github.com/bootstrap/javascript.html#carousel -->
    <div id="this-carousel-id" class="carousel slide"><!-- class of slide for animation -->
      <div class="carousel-inner">
        {% for photo in photos %}
          <div {% if forloop.first %} class="item active" {% else %} class="item"{% endif %}> <!-- class of active since it's the first item --> 
            <img src="{{ MEDIA_URL }}{{ photo.url }}" alt="" />
            <div class="carousel-caption">
              <p>This is the first Picture's description</p>
            </div>
          </div>
        {% endfor %}
      </div><!-- /.carousel-inner -->
      <!--  Next and Previous controls below
            href values must reference the id for this carousel -->
      <a class="carousel-control left" href="#this-carousel-id" data-slide="prev">&lsaquo;</a>
      <a class="carousel-control right" href="#this-carousel-id" data-slide="next">&rsaquo;</a>
    </div><!-- /.carousel -->


    <div class="l-description l-entry">
      {{listing.description|linebreaks}}
    </div>
  </div> <!-- /container -->
</div>



<!-- Edit Page -->
<div class="edit" style="display:none">
  <div class="row">
    <div class="l-header">
      <h1 class="l-title" style="text-align:left;float:left;">
          <form_listing>
            <fieldset>
              <input type="text" class="l-title" style="text-align:left;float:left;" placeholder="{{listing.title}}">
              <h1 class="l-dash" style="text-align:left;float:left;"> - </h1>
              <input type="text" class="l-price" placeholder="{{listing.price}}">
              <input type="text" class = "l-location" placeholder="({{listing.location}})">
            </fieldset>
          </form>
      </h1>
    </div>
  </div>
  <button type="button" class="btn btn-primary" onclick='fileUpload()' style="margin-bottom:15px;">Upload Pictures Here</button>
  </br>


  <div class="l-description l-entry">

    <input type="text" placeholder="Description" rows="3">
  </div>
  </div> 
</div>
<!-- End Edit Page -->



<div class="l-footnote" style ="margin-left:55px;">
  Created with <a href="http://www.rocketlistings.com" class="icon">Rocket Listings</a>. Blast off.
</div>

<div class="clearfix"></div>


    <!-- Le javascript
    ================================================== -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.7.2.min.js"><\/script>')</script>
    <!-- Bootstrap jQuery plugins compiled and minified -->
    <script src="js/bootstrap.min.js"></script>
    <script>
      $(document).ready(function(){
        $('.carousel').carousel({
          interval: 10000
        });
    })
    </script>
  {% endblock %}
