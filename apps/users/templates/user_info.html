{% extends 'users_base.html' %}
{% block title %}Account Info{% endblock %}

{% block content %}
{% if user.get_profile.name %}
<h3>{{ user.get_profile.name }}'s info</h3>
{% else %}
<h3>{{user.username}}'s info</h3>
{% endif %}

<div class="user-profile-table-group">
	<form class="user-info-form form-horizontal" action="" method="POST">
		<div style="margin-bottom: 5px">
			<span class="h4"><strong>User Info</strong></span>
			<span class="edit-all-wrapper">
				<a class="btn btn-info edit-all" href="#">Edit all.</a>
			</span>
		</div>
		<table class="table table-hover user-profile-table">
			<tbody>
				<tr class="uneditable">
					<td>Username:</td>
					<td class="username"><code class="text-info">{{ user.username }}</code></td>
					<td></td>
				</tr>
				<tr class="name">
					<td>Name:</td>
					{% if user.get_profile.name %}
					<td class="name">{{ user.get_profile.name }}</td>
					{% else %}
					<td class="muted">Add a name to your profile</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Name:</td>
					<td class="form-partial">
						<input tabindex="1" name="name" type="text" value="{{ user.get_profile.name }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr class="uneditable">
					<td>Password:</td>
					<td>&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;</td>
					<td><a class="change-password" href="{% url 'auth_password_change' %}">Change password</a></td>
				</tr>
				<tr class="email">
					<td>Email:</td>
					<td>{{ user.get_profile.email }}</td>
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide field-wrapper">
					<td>Email:</td>
					<td class="form-partial">
						<input tabindex="2" name="email" type="text" value="{{ user.get_profile.email }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Phone:</td>
					{% if user.get_profile.phone %}
					<td>{{ user.get_profile.phone }}</td>
					{% else %}
					<td class="muted">Add a phone number to your profile</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Phone:</td>
					<td class="form-partial">
						<input tabindex="3" name="phone" type="text" value="{{ user.get_profile.phone }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Seller Blurb:</td>
					{% if user.get_profile.bio %}
					<td class="bio">{{ user.get_profile.bio }}</td>
					{% else %}
					<td class="muted">Add a bio to your profile</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Seller Blurb:</td>
					<td class="form-partial">
						<input tabindex="4" name="bio" type="text" value="{{ user.get_profile.bio }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Location:</td>
					{% if user.get_profile.location %}
					<td>{{ user.get_profile.location }}</td>
					{% else %}
					<td class="muted">Add a default location for your listings</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Location:</td>
					<td class="form-partial">
						<input tabindex="4" id="id_location" name="location" type="text" value="{{ user.get_profile.location }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
			</tbody>
		</table>
		<h4>Listings</h4>
		<table class="table table-hover user-profile-table">
			<tbody>
				<tr class="uneditable">
					<td>Rocket Email:</td>
					<td><code class="text-info">{{user.username}}@rocketlistings.mailgun.org</code></td>
					<td></td>
				</tr>
				<tr>
					<td>Default Category:</td>	
					{% if user.get_profile.default_category.name  %}
					<td>{{ user.get_profile.default_category.name  }}</td>
					{% else %}
					<td class="muted">Add a default category for your listings</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Default Category:</td>
					<td class="form-partial">
						<select tabindex="5" name="default_category">
							<option selected="true">{{ user.get_profile.default_category.name }}</option>
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Default Listing Type:</td>
					{% if user.get_profile.default_listing_type.name  %}
					<td>{{ user.get_profile.default_listing_type.name }}</td>
					{% else %}
					<td class="muted">Add a default listing type</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Default Listing Type:</td>
					<td class="form-partial">
						<select tabindex="6" name="default_listing_type.name">
							<option selected="true">{{ user.get_profile.default_listing_type.name }}</option>
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
			</tbody>
		</table>
		<!-- {# <h4>Notifications</h4>
		<table class="table table-striped user-profile-table">
			<tbody>
				<tr>
					<td>Send me emails about my listings</td>
					<td>{{ user.get_profile.emailpref }}Weekly</td>
					<td><a href="#">Edit</a></td>
				</tr>
			</tbody>
		</table> #} -->
		<h4>Privacy</h4>
		<table class="table table-hover user-profile-table">
			<tbody>
				<tr>
					<td>Name:</td>
					{% if user.get_profile.nameprivate %}
					<td>Private</td>
					{% else %}
					<td>Public</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Name:</td>
					<td class="form-partial">
						<select tabindex="7" name="nameprivate">
							{% if user.get_profile.nameprivate %}
							<option value="False">Public</option>
							<option value="True" selected="true">Private</option>
							{% else %}
							<option value="False" selected="true">Public</option>
							<option value="True">Private</option>
							{% endif %}
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Location:</td>
					{% if user.get_profile.locationprivate %}
					<td>Private</td>
					{% else %}
					<td>Public</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Location:</td>
					<td class="form-partial">
						<select tabindex="10" name="locationprivate">
							{% if user.get_profile.locationprivate %}
							<option value="False">Public</option>
							<option value="True" selected="true">Private</option>
							{% else %}
							<option value="False" selected="true">Public</option>
							<option value="True">Private</option>
							{% endif %}
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
			</tbody>
		</table>
		<div class="user-info-buttons">
			{% comment %}
			<!--<a class="btn btn-info" href="{% url 'users.views.edit' user.username %}">Edit your account info.</a>
			<a class="btn btn-warning" href="{% url 'auth_password_change' %}">Change your password.</a>-->
			{% endcomment %}
			<a class="btn btn-warning view-profile" href="{% url 'users.views.profile' user.username %}">View your profile.</a>
			<input class="btn btn-info save-all hide" type="submit" value="Save all.">
			<div class="clearfix"></div>
	</div>
	</form>
</div>
{% endblock %}
