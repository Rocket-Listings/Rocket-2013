{% extends 'users_base.html' %}
{% block title %}Account Info{% endblock %}

{% block content %}
{% if user.get_profile.name %}
<h3 class="name">{{ user.get_profile.name }}'s info</h3>
{% else %}
<h3 class="name">{{user.username}}'s info</h3>
{% endif %}

<div class="user-profile-table-group">
	<div class="errors alert alert-error hide"></div>
	<form class="user-info-form form-horizontal" action="" method="POST">
		<div style="margin-bottom: 5px">
			<span class="h4"><strong>User Info</strong></span>
			<span class="edit-all-wrapper">
				<a class="btn btn-info edit-all" href="#">Edit all.</a>
				<input class="btn btn-info save-all hide" type="submit" value="Save all.">
			</span>
			<span class="view-profile-wrapper"><a class="btn btn-warning view-profile" href="{% url 'users.views.profile' user.username %}">View your profile.</a></span>
		</div>
		<table class="table table-hover user-profile-table">
			<tbody>
				<tr class="uneditable">
					<td>Username:</td>
					<td class="username"><code class="text-info">{{ user.username }}</code></td>
					<td></td>
				</tr>
				<tr>
					<td>Name:</td>
					{% if user.get_profile.name %}
					<td class="name">{{ user.get_profile.name }}</td>
					{% else %}
					<td class="name muted">Add a name to your profile</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Name:</td>
					<td class="form-partial">
						<input class="name" tabindex="1" name="name" type="text" value="{{ user.get_profile.name }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr class="uneditable">
					<td>Password:</td>
					<td>&#149;&#149;&#149;&#149;&#149;&#149;&#149;&#149;</td>
					<td><a class="change-password" href="/users/password/change/">Change password</a></td>
				</tr>
				<tr>
					<td>Email:</td>
					<td class="email">{{ user.get_profile.email }}</td>
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide field-wrapper">
					<td>Email:</td>
					<td class="form-partial">
						<input class="email" tabindex="2" name="email" type="text" value="{{ user.get_profile.email }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Phone:</td>
					{% if user.get_profile.phone %}
					<td class="phone">{{ user.get_profile.phone }}</td>
					{% else %}
					<td class="phone muted">Add a phone number to your profile</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Phone:</td>
					<td class="form-partial">
						<input class="phone" tabindex="3" name="phone" type="text" value="{{ user.get_profile.phone }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Seller Blurb:</td>
					{% if user.get_profile.bio %}
					<td class="bio">{{ user.get_profile.bio }}</td>
					{% else %}
					<td class="bio muted">Add a bio to your profile</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Seller Blurb:</td>
					<td class="form-partial">
						<textarea class="bio" tabindex="4" name="bio" rows="3">{{ user.get_profile.bio }}</textarea>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Location:</td>
					{% if user.get_profile.location %}
					<td class="location">{{ user.get_profile.location }}</td>
					{% else %}
					<td class="location muted">Add a default location for your listings</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Location:</td>
					<td class="form-partial">
						<input class="location" tabindex="4" id="id_location" name="location" type="text" value="{{ user.get_profile.location }}">
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
			</tbody>
		</table>
		<h4>Listings</h4>
		<table class="table table-hover user-profile-table">
			<tbody>
				<tr class="uneditable">
					<td>Rocket Email:</td>
					<td><code class="text-info">{{user.username}}@rocketlistings.mailgun.org</code></td>
					<td></td>
				</tr>
				<tr>
					<td>Default Listing Type:</td>
					{% if user.get_profile.default_listing_type.name  %}
					<td class="default_listing_type">{{ user.get_profile.default_listing_type.name }}</td>
					{% else %}
					<td class="default_listings_type muted">Add a default listing type</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Default Listing Type:</td>
					<td class="form-partial">
						<select tabindex="6" name="default_listing_type.name">
							<option class="" selected="true">{{ user.get_profile.default_listing_type.name }}</option>
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Default Category:</td>	
					{% if user.get_profile.default_category.name  %}
					<td class="default_category">{{ user.get_profile.default_category.name  }}</td>
					{% else %}
					<td class="default_category muted">Add a default category for your listings</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Default Category:</td>
					<td class="form-partial">
						<select tabindex="5" name="default_category">
							<option class="" selected="true">{{ user.get_profile.default_category.name }}</option>
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
			</tbody>
		</table>
		<h4>Privacy</h4>
		<table class="table table-hover user-profile-table">
			<tbody>
				<tr>
					<td>Name:</td>
					{% if user.get_profile.nameprivate %}
					<td class="nameprivate">Private</td>
					{% else %}
					<td class="nameprivate">Public</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Name:</td>
					<td class="form-partial">
						<select tabindex="7" name="nameprivate">
							{% if user.get_profile.nameprivate %}
							<option value="False">Public</option>
							<option value="True" selected="true">Private</option>
							{% else %}
							<option value="False" selected="true">Public</option>
							<option value="True">Private</option>
							{% endif %}
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
				<tr>
					<td>Location:</td>
					{% if user.get_profile.locationprivate %}
					<td class="locationprivate">Private</td>
					{% else %}
					<td class="locationprivate">Public</td>
					{% endif %}
					<td><a class="edit" href="#">Edit</a></td>
				</tr>
				<tr class="in-edit hide">
					<td>Location:</td>
					<td class="form-partial">
						<select tabindex="10" name="locationprivate">
							{% if user.get_profile.locationprivate %}
							<option value="False">Public</option>
							<option value="True" selected="true">Private</option>
							{% else %}
							<option value="False" selected="true">Public</option>
							<option value="True">Private</option>
							{% endif %}
						</select>
					</td>
					<td class="form-partial"><input class="btn btn-info partial-submit" type="submit" value="Save"></td>
				</tr>
			</tbody>
		</table>
	</form>
</div>
{% endblock %}
