{% extends 'listings/base.html' %}
{% load thumbnail %}
{% load compress %}
{% load static from staticfiles %}

{% block js %}
{% compress js %}
    {{ block.super }}
    <script src="{% static 'rocket/js/underscore.min.js' %}"></script>    
    <script src="{% static 'rocket/js/backbone.min.js' %}"></script>
    <script type="text/javascript">
    (function(a){if(window.filepicker){return}var b=a.createElement("script");b.type="text/javascript";b.async=!0;b.src=("https:"===a.location.protocol?"https:":"http:")+"//api.filepicker.io/v1/filepicker.js";var c=a.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);var d={};d._queue=[];var e="pick,pickMultiple,pickAndStore,read,write,writeUrl,export,convert,store,storeUrl,remove,stat,setKey,constructWidget,makeDropPane".split(",");var f=function(a,b){return function(){b.push([a,arguments])}};for(var g=0;g<e.length;g++){d[e[g]]=f(e[g],d._queue)}window.filepicker=d})(document); 
    </script>
    <script src="{% static 'listings/js/detail.js' %}"></script>
{% endcompress %}
{% endblock %}

{% block content %}
  <div class="row">
    <div id="listing-detail" class="col-lg-9 tab-content">
      <div class="tab-pane{% if pane == 'edit' %} active{% endif %}" id="edit">
        {% include 'listings/partials/edit.html' %}
      </div>
      <div class="tab-pane{% if pane == 'preview' %} active{% endif %}" id="preview"> 
        {% include 'listings/partials/preview.html' %}
      </div>
    </div>
    <div class="col-lg-3 detail-sidebar">
      <div data-spy="affix" data-offset-top="60">
        <div class="btn-group" data-toggle-name='listing-pane-toggle'>
          <a class="btn btn-primary{% if pane == 'edit' %} active{% endif %}" data-toggle="tab" href="#edit">Edit</a>
          <a id="preview-btn" class="btn btn-primary{% if pane == 'preview' %} active{% endif %}" data-toggle="tab" href="#preview">Preview</a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
