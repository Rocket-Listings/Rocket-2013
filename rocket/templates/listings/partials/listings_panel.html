{% load static from staticfiles %}
{% load pagination_tags %}
{% load humanize %}
{# Requires the context variable 'listings' #}

<!--HEADER-->
<div class="listings-header">
	<span class="d-check"><input class="check-all" type="checkbox"></span>
	<ul class="sort-by listings-cols-wrapper">
		<li class="d-title phone-full-width">
			<a class="sort" data-sort="title" href="#">Title</a>
			<span class="sort-toggle glyphicon glyphicon-chevron-down hide"></span>
		</li>
		<li class="d-price phone-hide">
			<a class="sort" data-sort="price" href="#">Price</a>
			<span class="sort-toggle glyphicon glyphicon-chevron-down hide"></span>
		</li>
		<li class="d-category phone-hide">
			<a class="sort" data-sort="category" href="#">Category</a>
			<span class="sort-toggle glyphicon glyphicon-chevron-down hide"></span>
		</li>
		<li class="d-date phone-hide">
			<a class="sort" data-sort="date" href="#">Date Listed</a>
			<span class="sort-toggle glyphicon glyphicon-chevron-down hide"></span>
		</li>
	</ul>
</div>
<div class="listings-body">
	<ul class="list">
	{% for listing in listings %}
		<li data-listing-id="{{ listing.id }}">
			<span class="d-check phone-hide"><input class="check-one" type="checkbox" name="check-{{ listing.id }}" value="{{ listing.id }}"></span>
			<div class="listings-cols-wrapper">
				<span class="d-title phone-full-width">
					<a class="title" href="{{ listing.get_absolute_url }}">{{ listing.title }}</a>
				</span>
				<span class="price d-price phone-hide">${{ listing.price }}</span>
				<span class="category d-category phone-hide">{{ listing.category.name }}</span>
				<span class="d-date phone-hide">
					<span class="date hide">{{ listing.pub_date|date:"m/d/y P" }}</span>
					{{ listing.pub_date|naturaltime }}
				</span>
				<span class="status hide">{{ listing.status }}</span>
			</div>
		</li>
	{% endfor %}
	</ul>
</div>
